
/* Merged Plone Javascript file
 * This file is dynamically assembled from separate parts.
 * Some of these parts have 3rd party licenses or copyright information attached
 * Such information is valid for that section,
 * not for the entire composite file
 * originating files are separated by - filename.js -
 */

/* - ++resource++quickupload_static/swfobject.js - */
// http://cmdb.elex.be/portal_javascripts/++resource++quickupload_static/swfobject.js?original=1
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();

/* - ++resource++quickupload_static/jquery.uploadify.js - */
// http://cmdb.elex.be/portal_javascripts/++resource++quickupload_static/jquery.uploadify.js?original=1
if(jQuery)(
function(jQuery){jQuery.extend(jQuery.fn,{uploadify:function(options){jQuery(this).each(function(){settings=jQuery.extend({id:jQuery(this).attr('id'),uploader:'uploadify.swf',script:'uploadify.php',expressInstall:null,folder:'',height:30,width:110,cancelImg:'cancel.png',wmode:'opaque',scriptAccess:'sameDomain',fileDataName:'Filedata',method:'POST',queueSizeLimit:999,simUploadLimit:1,queueID:false,displayData:'percentage',onInit: function(){},onSelect: function(){},onQueueFull: function(){},onCheck: function(){},onCancel: function(){},onError: function(){},onProgress: function(){},onComplete: function(){},onAllComplete: function(){}},options);var pagePath=location.pathname;pagePath=pagePath.split('/');pagePath.pop();pagePath=pagePath.join('/')+'/';var data={};data.uploadifyID=settings.id;data.pagepath=pagePath;if(settings.buttonImg) data.buttonImg=escape(settings.buttonImg);if(settings.buttonText) data.buttonText=escape(settings.buttonText);if(settings.rollover) data.rollover=true;data.script=settings.script;data.folder=escape(settings.folder);if(settings.scriptData){var scriptDataString='';for(var name in settings.scriptData){scriptDataString+='&'+name+'='+settings.scriptData[name]}
data.scriptData=escape(scriptDataString.substr(1))}
data.width=settings.width;data.height=settings.height;data.wmode=settings.wmode;data.method=settings.method;data.queueSizeLimit=settings.queueSizeLimit;data.simUploadLimit=settings.simUploadLimit;if(settings.hideButton) data.hideButton=true;if(settings.fileDesc) data.fileDesc=settings.fileDesc;if(settings.fileExt) data.fileExt=settings.fileExt;if(settings.multi) data.multi=true;if(settings.auto) data.auto=true;if(settings.sizeLimit) data.sizeLimit=settings.sizeLimit;if(settings.checkScript) data.checkScript=settings.checkScript;if(settings.fileDataName) data.fileDataName=settings.fileDataName;if(settings.queueID) data.queueID=settings.queueID;if(settings.onInit()!==false){jQuery(this).css('display','none');jQuery(this).after('<div id="'+jQuery(this).attr('id')+'Uploader"></div>');swfobject.embedSWF(settings.uploader,settings.id+'Uploader',settings.width,settings.height,'9.0.24',settings.expressInstall,data,{'quality':'high','wmode':settings.wmode,'allowScriptAccess':settings.scriptAccess});if(settings.queueID==false){jQuery("#"+jQuery(this).attr('id')+"Uploader").after('<div id="'+jQuery(this).attr('id')+'Queue" class="uploadifyQueue"></div>')}}
if(typeof(settings.onOpen)=='function'){jQuery(this).bind("uploadifyOpen",settings.onOpen)}
jQuery(this).bind("uploadifySelect",{'action':settings.onSelect,'queueID':settings.queueID}, function(event,ID,fileObj){if(event.data.action(event,ID,fileObj)!==false){var byteSize=Math.round(fileObj.size/1024 * 100) *.01;var suffix='KB';if(byteSize>1000){byteSize=Math.round(byteSize *.001 * 100) *.01;suffix='MB'}
var sizeParts=byteSize.toString().split('.');if(sizeParts.length>1){byteSize=sizeParts[0]+'.'+sizeParts[1].substr(0,2)} else{byteSize=sizeParts[0]}
if(fileObj.name.length>20){fileName=fileObj.name.substr(0,20)+'...'} else{fileName=fileObj.name}
queue='#'+jQuery(this).attr('id')+'Queue';if(event.data.queueID){queue='#'+event.data.queueID}
jQuery(queue).append('<div id="'+jQuery(this).attr('id')+ID+'" class="uploadifyQueueItem">\<div class="cancel">\<a href="javascript:jQuery(\'#' + jQuery(this).attr('id') + '\').uploadifyCancel(\'' + ID + '\')"><img src="' + settings.cancelImg + '" border="0"/></a>\</div>\<span class="fileName">' + fileName + '(' + byteSize + suffix + ')</span><span class="percentage"></span>\<div class="uploadifyProgress">\<div id="' + jQuery(this).attr('id') + ID + 'ProgressBar" class="uploadifyProgressBar"><!--Progress Bar--></div>\</div>\</div>')}});if(typeof(settings.onSelectOnce)=='function'){jQuery(this).bind("uploadifySelectOnce",settings.onSelectOnce)}
jQuery(this).bind("uploadifyQueueFull",{'action':settings.onQueueFull}, function(event,queueSizeLimit){if(event.data.action(event,queueSizeLimit)!==false){alert('The queue is full.  The max size is '+queueSizeLimit+'.')}});jQuery(this).bind("uploadifyCheckExist",{'action':settings.onCheck}, function(event,checkScript,fileQueueObj,folder,single){var postData=new Object();postData=fileQueueObj;postData.folder=pagePath+folder;if(single){for(var ID in fileQueueObj){var singleFileID=ID}}
jQuery.post(checkScript,postData, function(data){for(var key in data){if(event.data.action(event,checkScript,fileQueueObj,folder,single)!==false){var replaceFile=confirm("Do you want to replace the file "+data[key]+"?");if(!replaceFile){document.getElementById(jQuery(event.target).attr('id')+'Uploader').cancelFileUpload(key,true,true)}}}
if(single){document.getElementById(jQuery(event.target).attr('id')+'Uploader').startFileUpload(singleFileID,true)} else{document.getElementById(jQuery(event.target).attr('id')+'Uploader').startFileUpload(null,true)}},"json")});jQuery(this).bind("uploadifyCancel",{'action':settings.onCancel}, function(event,ID,fileObj,data,clearFast){if(event.data.action(event,ID,fileObj,data,clearFast)!==false){var fadeSpeed=(clearFast==true)?0:250;jQuery("#"+jQuery(this).attr('id')+ID).fadeOut(fadeSpeed, function(){jQuery(this).remove()})}});if(typeof(settings.onClearQueue)=='function'){jQuery(this).bind("uploadifyClearQueue",settings.onClearQueue)}
var errorArray=[];jQuery(this).bind("uploadifyError",{'action':settings.onError}, function(event,ID,fileObj,errorObj){if(event.data.action(event,ID,fileObj,errorObj)!==false){var fileArray=new Array(ID,fileObj,errorObj);errorArray.push(fileArray);jQuery("#"+jQuery(this).attr('id')+ID+" .percentage").text(" - "+errorObj.type+" Error");jQuery("#"+jQuery(this).attr('id')+ID).addClass('uploadifyError')}});jQuery(this).bind("uploadifyProgress",{'action':settings.onProgress,'toDisplay':settings.displayData}, function(event,ID,fileObj,data){if(event.data.action(event,ID,fileObj,data)!==false){jQuery("#"+jQuery(this).attr('id')+ID+"ProgressBar").css('width',data.percentage+'%');if(event.data.toDisplay=='percentage') displayData=' - '+data.percentage+'%';if(event.data.toDisplay=='speed') displayData=' - '+data.speed+'KB/s';if(event.data.toDisplay==null) displayData=' ';jQuery("#"+jQuery(this).attr('id')+ID+" .percentage").text(displayData)}});jQuery(this).bind("uploadifyComplete",{'action':settings.onComplete}, function(event,ID,fileObj,response,data){if(event.data.action(event,ID,fileObj,unescape(response),data)!==false){jQuery("#"+jQuery(this).attr('id')+ID+" .percentage").text(' - Completed');jQuery("#"+jQuery(this).attr('id')+ID).fadeOut(250, function(){jQuery(this).remove()})}});if(typeof(settings.onAllComplete)=='function'){jQuery(this).bind("uploadifyAllComplete",{'action':settings.onAllComplete}, function(event,uploadObj){if(event.data.action(event,uploadObj)!==false){errorArray=[]}})}})},uploadifySettings:function(settingName,settingValue,resetObject){var returnValue=false;jQuery(this).each(function(){if(settingName=='scriptData'&&settingValue!=null){if(resetObject){var scriptData=settingValue} else{var scriptData=jQuery.extend(settings.scriptData,settingValue)}
var scriptDataString='';for(var name in scriptData){scriptDataString+='&'+name+'='+escape(scriptData[name])}
settingValue=scriptDataString.substr(1)}
returnValue=document.getElementById(jQuery(this).attr('id')+'Uploader').updateSettings(settingName,settingValue)});if(settingValue==null){if(settingName=='scriptData'){var returnSplit=unescape(returnValue).split('&');var returnObj=new Object();for(var i=0;i<returnSplit.length;i++){var iSplit=returnSplit[i].split('=');returnObj[iSplit[0]]=iSplit[1]}
returnValue=returnObj}
return returnValue}},uploadifyUpload:function(ID){jQuery(this).each(function(){document.getElementById(jQuery(this).attr('id')+'Uploader').startFileUpload(ID,false)})},uploadifyCancel:function(ID){jQuery(this).each(function(){document.getElementById(jQuery(this).attr('id')+'Uploader').cancelFileUpload(ID,true,false)})},uploadifyClearQueue:function(){jQuery(this).each(function(){document.getElementById(jQuery(this).attr('id')+'Uploader').clearFileUploadQueue(false)})}})})(jQuery);

/* - ++resource++quickupload_static/fileuploader.js - */
// http://cmdb.elex.be/portal_javascripts/++resource++quickupload_static/fileuploader.js?original=1
var qq=qq||{};qq.FileUploader=function(o){this._options={element:null,action:'/server/upload',params:{},allowedExtensions:[],sizeLimit:0,onAfterSelect: function(id,fileName){},autoUpload:true,simUploadLimit:2,onSubmit: function(id,fileName){},onComplete: function(id,fileName,responseJSON){},template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>'+'<div class="qq-upload-button">Browse for a file</div>'+'<ul class="qq-upload-list"></ul>'+'</div>',fileTemplate:'<li>'+'<a class="qq-upload-cancel" href="#">&nbsp;</a>'+'<div class="qq-upload-infos"><span class="qq-upload-file"></span>'+'<span class="qq-upload-spinner"></span>'+'<span class="qq-upload-failed-text">Failed</span></div>'+'<div class="qq-upload-size"></div>'+'</li>',classes:{button:'qq-upload-button',drop:'qq-upload-drop-area',dropActive:'qq-upload-drop-area-active',list:'qq-upload-list',file:'qq-upload-file',spinner:'qq-upload-spinner',size:'qq-upload-size',cancel:'qq-upload-cancel',success:'qq-upload-success',fail:'qq-upload-fail'},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",emptyError:"{file} is empty, please select files again without it."},showMessage: function(message){alert(message)},debugMode:false};qq.extend(this._options,o);this._element=this._options.element;if(this._element.nodeType!=1){throw new Error('element param of FileUploader should be dom node')}
base_template=this._options.template;debug_template='<div class="qq-upload-debug">'+'  <strong>Current Uploads : </strong><span class="qq-upload-debug-curruploads"></span>'+'</div>';if(this._options.debugMode) base_template=base_template+debug_template;this._element.innerHTML=base_template;this._filesInProgress=0;this._classes=this._options.classes;this._handler=this._createUploadHandler();this._debugConsole=this.getDebugConsole();this._bindCancelEvent();var self=this;this._button=new qq.UploadButton({element:this._getElement('button'),multiple:qq.UploadHandlerXhr.isSupported(),onChange: function(input){self._onInputChange(input)}});this._setupDragDrop()};qq.FileUploader.prototype={setParams: function(params){this._options.params=params},getDebugConsole: function(){return qq.getByClass(this._element,'qq-upload-debug')[0]},logDebug: function(type,logcontent){blocdebug=qq.getByClass(this._debugConsole,'qq-upload-debug-'+type);if(blocdebug) qq.setText(blocdebug[0],logcontent)},isUploading: function(){return!!this._filesInProgress},_getElement: function(parent,type){if(typeof parent=='string'){type=parent;parent=this._element}
var element=qq.getByClass(parent,this._options.classes[type])[0];if(!element){throw new Error('element not found '+type)}
return element},_error: function(code,fileName,id){var message=this._options.messages[code];message=message.replace('{file}',this._formatFileName(fileName));message=message.replace('{extensions}',this._options.allowedExtensions.join(', '));message=message.replace('{sizeLimit}',this._formatSize(this._options.sizeLimit));if(typeof id=='undefined') this._options.showMessage(message);else{var item=this._getItemByFileId(id);var diverror=document.createElement("div");item.appendChild(diverror);eclass=document.createAttribute("class");eclass.nodeValue="server-error";diverror.setAttributeNode(eclass);diverror.innerText=message;diverror.textContent=message}},_formatFileName: function(name){if(name.length>33){name=name.slice(0,19)+'...'+name.slice(-13)}
return name},_isAllowedExtension: function(fileName){var ext=(-1!==fileName.indexOf('.'))?fileName.replace(/.*[.]/,'').toLowerCase():'';var allowed=this._options.allowedExtensions;if(!allowed.length){return true}
for(var i=0;i<allowed.length;i++){if(allowed[i].toLowerCase()==ext){return true}}
return false},_setupDragDrop: function(){
function isValidDrag(e){var dt=e.dataTransfer,isWebkit=navigator.userAgent.indexOf("AppleWebKit")>-1;return dt&&dt.effectAllowed!='none'&&(dt.files||(!isWebkit&&dt.types.contains&&dt.types.contains('Files')))}
var self=this,dropArea=this._getElement('drop');dropArea.style.display='none';var hideTimeout;qq.attach(document,'dragenter', function(e){e.preventDefault()});qq.attach(document,'dragover', function(e){if(isValidDrag(e)){if(hideTimeout){clearTimeout(hideTimeout)}
if(dropArea==e.target||qq.contains(dropArea,e.target)){var effect=e.dataTransfer.effectAllowed;if(effect=='move'||effect=='linkMove'){e.dataTransfer.dropEffect='move'} else{e.dataTransfer.dropEffect='copy'}
qq.addClass(dropArea,self._classes.dropActive);e.stopPropagation()} else{dropArea.style.display='block';e.dataTransfer.dropEffect='none'}
e.preventDefault()}});qq.attach(document,'dragleave', function(e){if(isValidDrag(e)){if(dropArea==e.target||qq.contains(dropArea,e.target)){qq.removeClass(dropArea,self._classes.dropActive);e.stopPropagation()} else{if(hideTimeout){clearTimeout(hideTimeout)}
hideTimeout=setTimeout(function(){dropArea.style.display='none'},77)}}});qq.attach(dropArea,'drop', function(e){dropArea.style.display='none';self._addSelection(e.dataTransfer.files);e.preventDefault()})},_createUploadHandler: function(){var self=this,handlerClass;if(qq.UploadHandlerXhr.isSupported()){handlerClass='UploadHandlerXhr'} else{handlerClass='UploadHandlerForm'}
var handler=new qq[handlerClass]({action:this._options.action,onProgress: function(id,fileName,loaded,total){self._updateProgress(id,loaded,total)},onComplete: function(id,fileName,result){var item=self._getItemByFileId(id);qq.remove(self._getElement(item,'spinner'));if(result.success){qq.remove(self._getElement(item,'cancel'));qq.addClass(item,self._classes.success)} else{qq.addClass(item,self._classes.fail);if(result.error){self._error(result.error,fileName,id)}}
self._filesInProgress--;self._options.onComplete(id,fileName,result)}});return handler},_onInputChange: function(input){if(this._handler instanceof qq.UploadHandlerXhr){this._addSelection(input.files)} else{if(this._validateFile(input)){this._addFile(input)}}
this._button.reset()},_addSelection: function(files){var valid=true;var i=files.length;while(i--){if(!this._validateFile(files[i])){valid=false;break}}
if(valid){var i=files.length;while(i--){this._addFile(files[i])}}},_addFile: function(file){var id=this._handler.add(file);var name=this._handler.getName(id);this._options.onSubmit(id,name);this._addToList(id,name);if(this._options.autoUpload){this._queueUpload(id,this._options.params)}
else this._options.onAfterSelect(file,id)},_uploadAll: function(){var allfiles=this._handler._files;for(var id=0;id<allfiles.length;id++){if(allfiles[id]){this._queueUpload(id,this._options.params)}}},_queueUpload: function(id,params){var simUploadLimit=this._options.simUploadLimit;if(this._options.debugMode) this.logDebug('curruploads',this._filesInProgress);if(this._filesInProgress<simUploadLimit||!simUploadLimit){this._filesInProgress++;if(this._handler instanceof qq.UploadHandlerXhr) var uid=id;else if(typeof id=='number'){var uid='qq-upload-handler-iframe'+id}
else var uid=id;var item=this._getItemByFileId(uid);var spinner=this._getElement(item,'spinner');qq.css(spinner,{'display':'inline-block'});this._handler.upload(id,params)}
else{var self=this;window.setTimeout(function(){self._queueUpload(id,params)},100)}},_cancelAll: function(){var allfiles=this._handler._files;for(var id=0;id<allfiles.length;id++){if(allfiles[id]) this._handler.cancel(id)}},_validateFile: function(file){var name,size;if(file.value){name=file.value.replace(/.*(\/|\\)/,"")} else{name=file.fileName!=null?file.fileName:file.name;size=file.fileSize!=null?file.fileSize:file.size}
if(!this._isAllowedExtension(name)){this._error('typeError',name);return false} else if(size===0){this._error('emptyError',name);return false} else if(size&&this._options.sizeLimit&&size>this._options.sizeLimit){this._error('sizeError',name);return false}
return true},_addToList: function(id,fileName){var item=qq.toElement(this._options.fileTemplate);item.qqFileId=id;var fileElement=this._getElement(item,'file');qq.setText(fileElement,this._formatFileName(fileName));this._getElement('list').appendChild(item)},_updateProgress: function(id,loaded,total){var item=this._getItemByFileId(id);var size=this._getElement(item,'size');var text1;var text2;if(loaded!=total){text1=Math.round(loaded/total * 100)} else{text1=100}
text2='&nbsp;'+this._formatSize(total);qq.setProgressBar(size,text1,text2)},_formatSize: function(bytes){var i=-1;do{bytes=bytes/1024;i++} while(bytes>99);return Math.max(bytes,0.1).toFixed(1)+['kB','MB','GB','TB','PB','EB'][i]},_getItemByFileId: function(id){var item=this._getElement('list').firstChild;while(item){if(item.qqFileId==id){return item}
item=item.nextSibling}},_bindCancelEvent: function(){var self=this,list=this._getElement('list');qq.attach(list,'click', function(e){e=e||window.event;var target=e.target||e.srcElement;if(qq.hasClass(target,self._classes.cancel)){qq.preventDefault(e);var item=target.parentNode;self._handler.cancel(item.qqFileId);qq.remove(item)}})}};qq.UploadButton=function(o){this._options={element:null,multiple:false,name:'file',onChange: function(input){},hoverClass:'qq-upload-button-hover',focusClass:'qq-upload-button-focus'};qq.extend(this._options,o);this._element=this._options.element;qq.css(this._element,{position:'relative',overflow:'hidden',direction:'ltr'});this._input=this._createInput()};qq.UploadButton.prototype={getInput: function(){return this._input},reset: function(){if(this._input.parentNode){qq.remove(this._input)}
qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput: function(){var input=document.createElement("input");if(this._options.multiple){input.setAttribute("multiple","multiple")}
input.setAttribute("type","file");input.setAttribute("name",this._options.name);qq.css(input,{position:'absolute',right:0,top:0,fontFamily:'Arial',fontSize:'243px',margin:0,padding:0,cursor:'pointer',opacity:0});this._element.appendChild(input);var self=this;qq.attach(input,'change', function(){self._options.onChange(input)});qq.attach(input,'mouseover', function(){qq.addClass(self._element,self._options.hoverClass)});qq.attach(input,'mouseout', function(){qq.removeClass(self._element,self._options.hoverClass)});qq.attach(input,'focus', function(){qq.addClass(self._element,self._options.focusClass)});qq.attach(input,'blur', function(){qq.removeClass(self._element,self._options.focusClass)});if(window.attachEvent){input.setAttribute('tabIndex',"-1")}
return input}};qq.UploadHandlerForm=function(o){this._options={action:'/upload',onComplete: function(id,fileName,response){}};qq.extend(this._options,o);this._inputs={};this._files=[]};qq.UploadHandlerForm.prototype={add: function(fileInput){fileInput.setAttribute('name','qqfile');var uid=qq.getUniqueId();var id='qq-upload-handler-iframe'+uid;this._inputs[id]=fileInput;this._files[uid]=fileInput;if(fileInput.parentNode){qq.remove(fileInput)}
return id},upload: function(id,params){if(typeof id=='number'){var id='qq-upload-handler-iframe'+id}
var input=this._inputs[id];if(!input){throw new Error('file with passed id was not added, or already uploaded or cancelled')}
var fileName=this.getName(id);var iframe=this._createIframe(id);var form=this._createForm(iframe,params);form.appendChild(input);var self=this;this._attachLoadEvent(iframe, function(){self._options.onComplete(id,fileName,self._getIframeContentJSON(iframe));delete self._inputs[id];uid=id.replace('qq-upload-handler-iframe','');self._files[uid]=null;setTimeout(function(){qq.remove(iframe)},1)});form.submit();qq.remove(form);return id},cancel: function(id){if(id in this._inputs){delete this._inputs[id];uid=id.replace('qq-upload-handler-iframe','');this._files[uid]=null}
var iframe=document.getElementById(id);if(iframe){iframe.setAttribute('src','javascript:false;');qq.remove(iframe)}},getName: function(id){return this._inputs[id].value.replace(/.*(\/|\\)/,"")},_attachLoadEvent: function(iframe,callback){qq.attach(iframe,'load', function(){if(!iframe.parentNode){return}
if(iframe.contentDocument&&iframe.contentDocument.body&&iframe.contentDocument.body.innerHTML=="false"){return}
callback()})},_getIframeContentJSON: function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;try{response=eval("("+doc.body.innerHTML+")")} catch(err){response={}}
return response},_createIframe: function(id){var iframe=qq.toElement('<iframe src="javascript:false;" name="'+id+'" />');iframe.setAttribute('id',id);iframe.style.display='none';document.body.appendChild(iframe);return iframe},_createForm: function(iframe,params){var form=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');var queryString='?'+qq.obj2url(params);form.setAttribute('action',this._options.action+queryString);form.setAttribute('target',iframe.name);form.style.display='none';document.body.appendChild(form);return form}};qq.UploadHandlerXhr=function(o){this._options={action:'/upload',onProgress: function(id,fileName,loaded,total){},onComplete: function(id,fileName,response){}};qq.extend(this._options,o);this._files=[];this._xhrs=[]};qq.UploadHandlerXhr.isSupported=function(){var input=document.createElement('input');input.type='file';return('multiple' in input&&typeof File!="undefined"&&typeof(new XMLHttpRequest()).upload!="undefined")};qq.UploadHandlerXhr.prototype={add: function(file){return this._files.push(file)-1},upload: function(id,params){var file=this._files[id],name=this.getName(id),size=this.getSize(id);if(!file){throw new Error('file with passed id was not added, or already uploaded or cancelled')}
var xhr=this._xhrs[id]=new XMLHttpRequest();var self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._options.onProgress(id,name,e.loaded,e.total)}};xhr.onreadystatechange=function(){if(!self._files[id]){return}
if(xhr.readyState==4){self._options.onProgress(id,name,size,size);if(xhr.status==200){var response;try{response=eval("("+xhr.responseText+")")} catch(err){response={}}
self._options.onComplete(id,name,response)} else{self._options.onComplete(id,name,{})}
self._files[id]=null;self._xhrs[id]=null}};var queryString='?qqfile='+encodeURIComponent(name)+'&'+qq.obj2url(params);xhr.open("POST",this._options.action+queryString,true);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));xhr.setRequestHeader("Content-Type",'application/octet-stream');xhr.send(file)},cancel: function(id){this._files[id]=null;if(this._xhrs[id]){this._xhrs[id].abort();this._xhrs[id]=null}},getName: function(id){var file=this._files[id];return file.fileName!=null?file.fileName:file.name},getSize: function(id){var file=this._files[id];return file.fileSize!=null?file.fileSize:file.size}};var qq=qq||{};qq.extend=function(obj1,obj2){for(var prop in obj2){obj1[prop]=obj2[prop]}};qq.getUniqueId=(function(){var id=0;return function(){return id++}})();qq.attach=function(element,type,fn){if(element.addEventListener){element.addEventListener(type,fn,false)} else if(element.attachEvent){element.attachEvent('on'+type,fn)}};qq.detach=function(element,type,fn){if(element.removeEventListener){element.removeEventListener(type,fn,false)} else if(element.attachEvent){element.detachEvent('on'+type,fn)}};qq.preventDefault=function(e){if(e.preventDefault){e.preventDefault()} else{e.returnValue=false}};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)};qq.remove=function(element){element.parentNode.removeChild(element)};qq.contains=function(parent,descendant){if(parent.contains){return parent.contains(descendant)} else{return!!(descendant.compareDocumentPosition(parent)&8)}};qq.toElement=(function(){var div=document.createElement('div');return function(html){div.innerHTML=html;var element=div.firstChild;div.removeChild(element);return element}})();qq.css=function(element,styles){if(styles.opacity!=null){if(typeof element.style.opacity!='string'&&typeof(element.filters)!='undefined'){styles.filter='alpha(opacity='+Math.round(100 * styles.opacity)+')'}}
qq.extend(element.style,styles)};qq.hasClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');return re.test(element.className)};qq.addClass=function(element,name){if(!qq.hasClass(element,name)){element.className+=' '+name}};qq.removeClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');element.className=element.className.replace(re,' ').replace(/^\s+|\s+$/g,"")};qq.setText=function(element,text){element.innerText=text;element.textContent=text};qq.setProgressBar=function(element,text1,text2){if(!element.hasChildNodes()){if(!text1) size='2px';else size=text1+'%';var progressBar='<div class="sizeContainer"><div class="sizeBar" style="width:'+size+'"></div></div>';var total='<div class="sizeTotal">'+text2+'</div>';element.innerHTML=total+progressBar}
else{var sizeBar=qq.getByClass(element,"sizeBar")[0];sizeBar.style.width=text1+'%'}};qq.children=function(element){var children=[],child=element.firstChild;while(child){if(child.nodeType==1){children.push(child)}
child=child.nextSibling}
return children};qq.getByClass=function(element,className){if(element.querySelectorAll){return element.querySelectorAll('.'+className)}
var result=[];var candidates=element.getElementsByTagName("*");var len=candidates.length;for(var i=0;i<len;i++){if(qq.hasClass(candidates[i],className)){result.push(candidates[i])}}
return result};qq.obj2url=function(obj,temp){var uristrings=[],add=function(nextObj,i){var nextTemp=temp?(/\[\]$/.test(temp)) /* prevent double-encoding */?temp:temp+'['+i+']':i;uristrings.push(typeof nextObj==='object'?qq.obj2url(nextObj,nextTemp):(Object.prototype.toString.call(nextObj)==='[object Function]')?encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj()):encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj))};if(Object.prototype.toString.call(obj)==='[object Array]'){for(var i=0,len=obj.length;i<len;++i){add(obj[i],i)}} else if((obj!==undefined)&&(obj!==null)&&(typeof obj==="object")){for(var i in obj){add(obj[i],i)}} else{uristrings.push(encodeURIComponent(temp)+'='+encodeURIComponent(obj))}
return uristrings.join('&').replace(/%20/g,'+')};

/* - ++resource++quickupload_static/helpers.js - */
// http://cmdb.elex.be/portal_javascripts/++resource++quickupload_static/helpers.js?original=1
var PloneQuickUpload={};PloneQuickUpload.addUploadFields=function(uploader,domelement,file,id,fillTitles,fillDescriptions){var blocFile;if(fillTitles||fillDescriptions){blocFile=uploader._getItemByFileId(id);if(typeof id=='string') id=parseInt(id.replace('qq-upload-handler-iframe',''))}
if(fillDescriptions){var labelfiledescription=jQuery('#uploadify_label_file_description').val();jQuery('.qq-upload-cancel',blocFile).after('\<div class="uploadField">\<label>' + labelfiledescription + '&nbsp;:&nbsp;</label>\<textarea rows="2" \
class="file_description_field" \
id="description_' + id + '" \
name="description" \
value=""/>\</div>\
')}
if(fillTitles){var labelfiletitle=jQuery('#uploadify_label_file_title').val();jQuery('.qq-upload-cancel',blocFile).after('\<div class="uploadField">\<label>' + labelfiletitle + '&nbsp;:&nbsp;</label>\<input type="text" \
class="file_title_field" \
id="title_' + id + '" \
name="title" \
value=""/>\</div>\
')}
PloneQuickUpload.showButtons(uploader,domelement)};PloneQuickUpload.showButtons=function(uploader,domelement){var handler=uploader._handler;if(handler._files.length){jQuery('.uploadifybuttons',jQuery(domelement).parent()).show();return 'ok'}
return false};PloneQuickUpload.sendDataAndUpload=function(uploader,domelement,typeupload){var handler=uploader._handler;var files=handler._files;var missing=0;for(var id=0;id<files.length;id++){if(files[id]){var fileContainer=jQuery('.qq-upload-list li',domelement)[id-missing];var file_title='';if(fillTitles){file_title=jQuery('.file_title_field',fileContainer).val()}
var file_description='';if(fillDescriptions){file_description=jQuery('.file_description_field',fileContainer).val()}
uploader._queueUpload(id,{'title':file_title,'description':file_description,'typeupload':typeupload})}
else missing++}};PloneQuickUpload.onAllUploadsComplete=function(){jQuery(document).trigger('qq-allfiles-uploaded');Browser.onUploadComplete()};PloneQuickUpload.clearQueue=function(uploader,domelement){var handler=uploader._handler;var files=handler._files;for(var id=0;id<files.length;id++){if(files[id]){handler.cancel(id)}
jQuery('.qq-upload-list li',domelement).remove();handler._files=[];if(typeof handler._inputs!='undefined') handler._inputs={}}
jQuery('.uploadifybuttons').hide()};PloneQuickUpload.onUploadComplete=function(uploader,domelement,id,fileName,responseJSON){var uploadList=jQuery('.qq-upload-list',domelement);if(responseJSON.success){window.setTimeout( function(){jQuery(uploader._getItemByFileId(id)).remove();var newlist=jQuery('li',uploadList);jQuery(document).trigger('qq-file-uploaded',responseJSON);if(!newlist.length) window.setTimeout(PloneQuickUpload.onAllUploadsComplete,5)},50)}};

/* - ckeditor_vars.js - */
// http://cmdb.elex.be/portal_javascripts/ckeditor_vars.js?original=1
var CKEDITOR_BASEPATH='http://cmdb.elex.be/++resource++ckeditor/';var CKEDITOR_PLONE_BASEPATH='http://cmdb.elex.be/++resource++ckeditor_for_plone/';var CKEDITOR_PLONE_PORTALPATH='http://cmdb.elex.be';

/* - ++resource++ckeditor/ckeditor_basic.js - */
ï»¿/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;if(!window.CKEDITOR)window.CKEDITOR=(function(){var a={timestamp:'B8DJ5M3',version:'3.6.2',revision:'7275',_:{},status:'unloaded',basePath:(function(){var d=window.CKEDITOR_BASEPATH||'';if(!d){var e=document.getElementsByTagName('script');for(var f=0;f<e.length;f++){var g=e[f].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(g){d=g[1];break;}}}if(d.indexOf(':/')==-1)if(d.indexOf('/')===0)d=location.href.match(/^.*?:\/\/[^\/]*/)[0]+d;else d=location.href.match(/^[^\?]*\/(?:)/)[0]+d;if(!d)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return d;})(),getUrl:function(d){if(d.indexOf(':/')==-1&&d.indexOf('/')!==0)d=this.basePath+d;if(this.timestamp&&d.charAt(d.length-1)!='/'&&!/[&?]t=/.test(d))d+=(d.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return d;}},b=window.CKEDITOR_GETURL;if(b){var c=a.getUrl;a.getUrl=function(d){return b.call(a,d)||c.call(a,d);};}return a;})();var a=CKEDITOR;if(!a.event){a.event=function(){};a.event.implementOn=function(b){var c=a.event.prototype;for(var d in c){if(b[d]==undefined)b[d]=c[d];}};a.event.prototype=(function(){var b=function(d){var e=d.getPrivate&&d.getPrivate()||d._||(d._={});return e.events||(e.events={});},c=function(d){this.name=d;this.listeners=[];};c.prototype={getListenerIndex:function(d){for(var e=0,f=this.listeners;e<f.length;e++){if(f[e].fn==d)return e;}return-1;}};return{on:function(d,e,f,g,h){var i=b(this),j=i[d]||(i[d]=new c(d));if(j.getListenerIndex(e)<0){var k=j.listeners;if(!f)f=this;if(isNaN(h))h=10;var l=this,m=function(o,p,q,r){var s={name:d,sender:this,editor:o,data:p,listenerData:g,stop:q,cancel:r,removeListener:function(){l.removeListener(d,e);}};e.call(f,s);return s.data;};m.fn=e;m.priority=h;for(var n=k.length-1;n>=0;n--){if(k[n].priority<=h){k.splice(n+1,0,m);return;}}k.unshift(m);}},fire:(function(){var d=false,e=function(){d=true;},f=false,g=function(){f=true;};return function(h,i,j){var k=b(this)[h],l=d,m=f;d=f=false;if(k){var n=k.listeners;if(n.length){n=n.slice(0);for(var o=0;o<n.length;o++){var p=n[o].call(this,j,i,e,g);if(typeof p!='undefined')i=p;if(d||f)break;}}}var q=f||(typeof i=='undefined'?false:i);d=l;f=m;return q;};})(),fireOnce:function(d,e,f){var g=this.fire(d,e,f);delete b(this)[d];return g;},removeListener:function(d,e){var f=b(this)[d];if(f){var g=f.getListenerIndex(e);if(g>=0)f.listeners.splice(g,1);
}},hasListeners:function(d){var e=b(this)[d];return e&&e.listeners.length>0;}};})();}if(!a.editor){a.ELEMENT_MODE_NONE=0;a.ELEMENT_MODE_REPLACE=1;a.ELEMENT_MODE_APPENDTO=2;a.editor=function(b,c,d,e){var f=this;f._={instanceConfig:b,element:c,data:e};f.elementMode=d||0;a.event.call(f);f._init();};a.editor.replace=function(b,c){var d=b;if(typeof d!='object'){d=document.getElementById(b);if(d&&d.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})d=null;if(!d){var e=0,f=document.getElementsByName(b);while((d=f[e++])&&d.tagName.toLowerCase()!='textarea'){}}if(!d)throw '[CKEDITOR.editor.replace] The element with id or name "'+b+'" was not found.';}d.style.visibility='hidden';return new a.editor(c,d,1);};a.editor.appendTo=function(b,c,d){var e=b;if(typeof e!='object'){e=document.getElementById(b);if(!e)throw '[CKEDITOR.editor.appendTo] The element with id "'+b+'" was not found.';}return new a.editor(c,e,2,d);};a.editor.prototype={_init:function(){var b=a.editor._pending||(a.editor._pending=[]);b.push(this);},fire:function(b,c){return a.event.prototype.fire.call(this,b,c,this);},fireOnce:function(b,c){return a.event.prototype.fireOnce.call(this,b,c,this);}};a.event.implementOn(a.editor.prototype,true);}if(!a.env)a.env=(function(){var b=navigator.userAgent.toLowerCase(),c=window.opera,d={ie:/*@cc_on!@*/false,opera:!!c&&c.version,webkit:b.indexOf(' applewebkit/')>-1,air:b.indexOf(' adobeair/')>-1,mac:b.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:b.indexOf('mobile')>-1,iOS:/(ipad|iphone|ipod)/.test(b),isCustomDomain:function(){if(!this.ie)return false;var g=document.domain,h=window.location.hostname;return g!=h&&g!='['+h+']';},secure:location.protocol=='https:'};d.gecko=navigator.product=='Gecko'&&!d.webkit&&!d.opera;var e=0;if(d.ie){e=parseFloat(b.match(/msie (\d+)/)[1]);d.ie8=!!document.documentMode;d.ie8Compat=document.documentMode==8;d.ie9Compat=document.documentMode==9;d.ie7Compat=e==7&&!document.documentMode||document.documentMode==7;d.ie6Compat=e<7||d.quirks;}if(d.gecko){var f=b.match(/rv:([\d\.]+)/);if(f){f=f[1].split('.');e=f[0]*10000+(f[1]||0)*100+ +(f[2]||0);}}if(d.opera)e=parseFloat(c.version());if(d.air)e=parseFloat(b.match(/ adobeair\/(\d+)/)[1]);if(d.webkit)e=parseFloat(b.match(/ applewebkit\/(\d+)/)[1]);d.version=e;d.isCompatible=d.iOS&&e>=534||!d.mobile&&(d.ie&&e>=6||d.gecko&&e>=10801||d.opera&&e>=9.5||d.air&&e>=1||d.webkit&&e>=522||false);d.cssClass='cke_browser_'+(d.ie?'ie':d.gecko?'gecko':d.opera?'opera':d.webkit?'webkit':'unknown');
if(d.quirks)d.cssClass+=' cke_browser_quirks';if(d.ie){d.cssClass+=' cke_browser_ie'+(d.version<7?'6':d.version>=8?document.documentMode:'7');if(d.quirks)d.cssClass+=' cke_browser_iequirks';}if(d.gecko&&e<10900)d.cssClass+=' cke_browser_gecko18';if(d.air)d.cssClass+=' cke_browser_air';return d;})();var b=a.env;var c=b.ie;if(a.status=='unloaded')(function(){a.event.implementOn(a);a.loadFullCore=function(){if(a.status!='basic_ready'){a.loadFullCore._load=1;return;}delete a.loadFullCore;var e=document.createElement('script');e.type='text/javascript';e.src=a.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(e);};a.loadFullCoreTimeout=0;a.replaceClass='ckeditor';a.replaceByClassEnabled=1;var d=function(e,f,g,h){if(b.isCompatible){if(a.loadFullCore)a.loadFullCore();var i=g(e,f,h);a.add(i);return i;}return null;};a.replace=function(e,f){return d(e,f,a.editor.replace);};a.appendTo=function(e,f,g){return d(e,f,a.editor.appendTo,g);};a.add=function(e){var f=this._.pending||(this._.pending=[]);f.push(e);};a.replaceAll=function(){var e=document.getElementsByTagName('textarea');for(var f=0;f<e.length;f++){var g=null,h=e[f];if(!h.name&&!h.id)continue;if(typeof arguments[0]=='string'){var i=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!i.test(h.className))continue;}else if(typeof arguments[0]=='function'){g={};if(arguments[0](h,g)===false)continue;}this.replace(h,g);}};(function(){var e=function(){var f=a.loadFullCore,g=a.loadFullCoreTimeout;if(a.replaceByClassEnabled)a.replaceAll(a.replaceClass);a.status='basic_ready';if(f&&f._load)f();else if(g)setTimeout(function(){if(a.loadFullCore)a.loadFullCore();},g*1000);};if(window.addEventListener)window.addEventListener('load',e,false);else if(window.attachEvent)window.attachEvent('onload',e);})();a.status='basic_loaded';})();})();


/* - ++resource++ckeditor_for_plone/ckeditor_plone.js - */
// http://cmdb.elex.be/portal_javascripts/++resource++ckeditor_for_plone/ckeditor_plone.js?original=1
if(typeof console!='undefined')
console.log();if(window.CKEDITOR){(function(){var showCompatibilityMsg=function(){var env=CKEDITOR.env;var html='<p><strong>Your browser is not compatible with CKEditor.</strong>';var browsers={gecko:'Firefox 2.0',ie:'Internet Explorer 6.0',opera:'Opera 9.5',webkit:'Safari 3.0'};var alsoBrowsers='';for(var key in env){if(browsers[key]){if(env[key])
html+=' CKEditor is compatible with '+browsers[key]+' or higher.';else
alsoBrowsers+=browsers[key]+'+, '}}
alsoBrowsers=alsoBrowsers.replace(/\+,([^,]+), $/,'+ and $1');html+=' It is also compatible with '+alsoBrowsers+'.';html+='</p><p>With non compatible browsers, you should still be able to see and edit the contents (HTML) in a plain text field.</p>';document.getElementById('alerts').innerHTML=html};var onload=function(){if(!CKEDITOR.env.isCompatible)
showCompatibilityMsg()};if(window.addEventListener)
window.addEventListener('load',onload,false);else if(window.attachEvent)
window.attachEvent('onload',onload)})()}
launchCKInstances=function(){jQuery('.ckeditor_plone').each(function(){ckid=jQuery(this).attr('id');cke_config_url=jQuery('.cke_config_url',jQuery(this).parent()).val();if(jQuery('.cke_iswidget',jQuery(this).parent()).length){cke_width=jQuery('.cke_width',jQuery(this).parent()).val();cke_height=jQuery('.cke_height',jQuery(this).parent()).val();cke_baseHref=jQuery('.cke_baseHref',jQuery(this).parent()).val();CKEDITOR.replace(ckid,{customConfig:cke_config_url,width:cke_width,height:cke_height,baseHref:cke_baseHref})}
else{CKEDITOR.replace(ckid,{customConfig:cke_config_url})}})}
jQuery(document).ready(launchCKInstances);
